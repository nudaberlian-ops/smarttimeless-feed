<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Smart Timeless – JSON Feed Mirror</title>
<style>
body { font-family: Arial, sans-serif; max-width: 800px; margin: 20px auto; }
.post { border-bottom: 1px solid #ddd; padding: 10px 0; }
.post a { font-size: 20px; color: #0077cc; text-decoration: none; }
.post a:hover { text-decoration: underline; }
.date { color: gray; font-size: 14px; }
</style>
</head>
<body>

<h1>Smart Timeless — JSON Feed Mirror</h1>
<div id="feed">Loading feed...</div>

<script>
const FEED_URL = "https://script.google.com/macros/s/AKfycbzv2RQ3L2FGn4G1DpvoclaasKhseEeH8G8D0QqNQEC3HmjaYLIV1YsoCCjhTfWpNHrkWQ/exec";

async function loadFeed() {
    try {
        const res = await fetch(FEED_URL);
        const data = await res.json();

        // Blogger JSON ada di `data.feed.entry`
        const entries = data.feed?.entry;
        if (!entries) {
            document.getElementById("feed").innerHTML = "No feed items found.";
            return;
        }

        let html = "";

        entries.forEach(item => {
            let title = item.title.$t;
            let link = item.link.find(l => l.rel === "alternate").href;
            let published = new Date(item.published.$t).toLocaleDateString();
            let summary = item.summary?.$t?.replace(/<[^>]+>/g, "").substring(0, 150) || "";

            html += `
                <div class="post">
                    <a href="${link}" target="_blank">${title}</a>
                    <div class="date">${published}</div>
                    <p>${summary}...</p>
                </div>
            `;
        });

        document.getElementById("feed").innerHTML = html;

    } catch (e) {
        document.getElementById("feed").innerHTML = "Failed to load feed.";
    }
}

loadFeed();
</script>

</body>
</html>
