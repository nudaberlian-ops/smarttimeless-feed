<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Smart Timeless – JSON Feed Mirror</title>
<style>
body { font-family: Arial, sans-serif; max-width: 800px; margin: 20px auto; }
.post { border-bottom: 1px solid #ddd; padding: 10px 0; }
.post a { font-size: 20px; color: #0077cc; text-decoration: none; }
.post a:hover { text-decoration: underline; }
.date { color: gray; font-size: 14px; }
</style>
</head>
<body>

<h1>Smart Timeless — JSON Feed Mirror</h1>
<div id="feed">Loading feed...</div>

<script>
// RSS2JSON PROXY (bypass CORS)
const FEED_URL =
  "https://api.rss2json.com/v1/api.json?rss_url=https://smarttimeless.com/feeds/posts/default?max-results=500";

async function loadFeed() {
  try {
    const res = await fetch(FEED_URL);
    const data = await res.json();

    if (!data.items) {
      document.getElementById("feed").innerHTML = "No feed items found.";
      return;
    }

    let html = "";

    data.items.forEach(item => {
      let title = item.title;
      let link = item.link;
      let published = new Date(item.pubDate).toLocaleDateString();
      let summary = item.description.replace(/<[^>]+>/g, "").substring(0, 150);

      html += `
        <div class="post">
          <a href="${link}" target="_blank">${title}</a>
          <div class="date">${published}</div>
          <p>${summary}...</p>
        </div>
      `;
    });

    document.getElementById("feed").innerHTML = html;

  } catch (error) {
    document.getElementById("feed").innerHTML = "Failed to load feed.";
  }
}

loadFeed();
</script>

</body>
</html>
